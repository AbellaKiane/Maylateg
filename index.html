<!DOCTYPE html>
<!-- saved from url=(1048)file:///C:/Users/kiane/Documents/index.html?view=true&image=https%3A%2F%2Fi.ibb.co%2Fds73hjwk%2FMessenger-creation-17-F04-EDA-1309-4-BA2-B357-906-E906-FC91-D.jpg&message=Happy%20Valentine%27s%20Day%2C%20Mahal%20ko!%20sana%20magustuhan%20mo%20gawa%20ko%20hehe%2C%20di%20pa%20siya%20maayos%20kasi%20hindi%20pa%20masyadong%20functional%20pero%20sana%20magustuhan%20mo.%20I%20love%20you%20so%20much%20love%2C%20proud%20na%20proud%20nak%20pirmi%20kanyam%20love%2C%20haan%20nak%20ibatbati%20ah%2C%20nagswerte%20nakon%20kanyam%20isu%20haan%20tan%20agsinsina%20HAHAHAHAHA.%20Thank%20you%20lagi%20pirmi%20kanyam%20ta%20lagi%20kang%20andyan%20para%20sa%20akin%20at%20kapag%20may%20problema%20ka%20ket%20wag%20kang%20mahihiyang%20magsabi%20sa%20akin%20ah%2C%20tayo%20magkakampi%20dito.%20mwamwa!%20hirap%20mag%20hanap%20emoji%20dito%20sa%20laptop%20hahahh%2C%20pasensya%20na%20kung%20may%20mga%20bagay%20ako%20minsan%20na%20hindi%20mabigay%20sayo%2C%20pero%20pangako%20magkapera%20lang%20talaga%20tayo.&question=Will%20u%20be%20my%20Valentine%2C%20Maylateg%3F -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Valentine's Day!</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #ff9a9e, #fecfef);
            color: #333;
            text-align: center;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        .container {
            max-width: 600px;
            background: rgba(255, 255, 255, 0.9);
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
        }
        h1 {
            color: #e91e63;
            font-size: 2.5em;
            margin-bottom: 20px;
        }
        .heart {
            font-size: 3em;
            color: #e91e63;
        }
        form {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        input, textarea {
            padding: 10px;
            border: 2px solid #e91e63;
            border-radius: 8px;
            font-size: 1em;
        }
        button {
            padding: 12px;
            background: #e91e63;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1.2em;
            cursor: pointer;
            transition: background 0.3s;
        }
        button:hover {
            background: #c2185b;
        }
        .view-mode {
            /* Removed display: none; here */
        }
        .view-mode img {
            max-width: 100%;
            height: auto;
            border-radius: 10px;
            margin: 20px 0;
        }
        .view-mode p {
            font-size: 1.2em;
            line-height: 1.5;
        }
        .share-link {
            margin-top: 20px;
            font-size: 1em;
        }
        .hidden {
            display: none;
        }
        .upload-option {
            margin: 10px 0;
            font-size: 0.9em;
            color: #666;
        }
        .prank-section {
            display: none;
        }
        .prank-section h2 {
            font-size: 1.5em;
            margin-bottom: 20px;
        }
        .prank-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
        }
        .prank-buttons button {
            padding: 15px 30px;
            font-size: 1.5em;
            border-radius: 10px;
        }
        .yes-button {
            background: #4caf50; /* Green */
        }
        .yes-button:hover {
            background: #388e3c;
        }
        .no-button {
            background: #f44336; /* Red */
            position: relative;
        }
        .no-button:hover {
            background: #d32f2f;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Happy Valentine's Day, My Love! <span class="heart">❤️</span></h1>
        
        <!-- Upload Form (hidden in view mode) -->
        <div id="upload-form" class="hidden">
            <form id="valentine-form">
                <div class="upload-option">
                    <label>Option 1: Paste Image URL</label><br>
                    <input type="url" id="image-url" placeholder="e.g., https://example.com/image.jpg">
                </div>
                <div class="upload-option">
                    <label>Option 2: Upload File (for local preview only—host online for sharing)</label><br>
                    <input type="file" id="image-file" accept="image/*">
                </div>
                <textarea id="message" rows="4" placeholder="Write your heartfelt message here..." required=""></textarea>
                <input type="text" id="custom-question" placeholder="Custom question for the prank (e.g., Do you love me?)" value="Do you love me?">
                <button type="submit">Save &amp; Share</button>
            </form>
        </div>
        
        <!-- Prank Section (shown first in view mode) -->
        <div id="prank-section" class="prank-section" style="display: block;">
            <h2 id="display-question">Will u be my Valentine, Maylateg?</h2>
            <div class="prank-buttons">
                <button class="yes-button" id="yes-button">Oo</button>
                <button class="no-button" id="no-button">Hindi</button>
            </div>
        </div>
        
        <!-- View Mode (shown after prank) -->
        <div id="view-mode" class="view-mode hidden">
            <img id="display-image" src="./index_files/Messenger-creation-17-F04-EDA-1309-4-BA2-B357-906-E906-FC91-D.jpg" alt="Picture sana natin kaso di gumagana">
            <p id="display-message">Happy Valentine's Day, Mahal ko! sana magustuhan mo gawa ko hehe, di pa siya maayos kasi hindi pa masyadong functional pero sana magustuhan mo. I love you so much love, proud na proud nak pirmi kanyam love, haan nak ibatbati ah, nagswerte nakon kanyam isu haan tan agsinsina HAHAHAHAHA. Thank you lagi pirmi kanyam ta lagi kang andyan para sa akin at kapag may problema ka ket wag kang mahihiyang magsabi sa akin ah, tayo magkakampi dito. mwamwa! hirap mag hanap emoji dito sa laptop hahahh, pasensya na kung may mga bagay ako minsan na hindi mabigay sayo, pero pangako magkapera lang talaga tayo.</p>
        </div>
        
        <div id="share-link" class="share-link hidden">
            <p>Share this link with your love: <a id="link" href="file:///C:/Users/kiane/Documents/index.html?view=true&amp;image=https%3A%2F%2Fi.ibb.co%2Fds73hjwk%2FMessenger-creation-17-F04-EDA-1309-4-BA2-B357-906-E906-FC91-D.jpg&amp;message=Happy%20Valentine%27s%20Day%2C%20Mahal%20ko!%20sana%20magustuhan%20mo%20gawa%20ko%20hehe%2C%20di%20pa%20siya%20maayos%20kasi%20hindi%20pa%20masyadong%20functional%20pero%20sana%20magustuhan%20mo.%20I%20love%20you%20so%20much%20love%2C%20proud%20na%20proud%20nak%20pirmi%20kanyam%20love%2C%20haan%20nak%20ibatbati%20ah%2C%20nagswerte%20nakon%20kanyam%20isu%20haan%20tan%20agsinsina%20HAHAHAHAHA.%20Thank%20you%20lagi%20pirmi%20kanyam%20ta%20lagi%20kang%20andyan%20para%20sa%20akin%20at%20kapag%20may%20problema%20ka%20ket%20wag%20kang%20mahihiyang%20magsabi%20sa%20akin%20ah%2C%20tayo%20magkakampi%20dito.%20mwamwa!%20hirap%20mag%20hanap%20emoji%20dito%20sa%20laptop%20hahahh%2C%20pasensya%20na%20kung%20may%20mga%20bagay%20ako%20minsan%20na%20hindi%20mabigay%20sayo%2C%20pero%20pangako%20magkapera%20lang%20talaga%20tayo.&amp;question=Will%20u%20be%20my%20Valentine%2C%20Maylateg%3F#" target="_blank">View Your Valentine's Surprise</a></p>
        </div>
    </div>

    <script>
        const form = document.getElementById('valentine-form');
        const uploadForm = document.getElementById('upload-form');
        const prankSection = document.getElementById('prank-section');
        const viewMode = document.getElementById('view-mode');
        const shareLink = document.getElementById('share-link');
        const displayImage = document.getElementById('display-image');
        const displayMessage = document.getElementById('display-message');
        const displayQuestion = document.getElementById('display-question');
        const linkElement = document.getElementById('link');
        const imageUrlInput = document.getElementById('image-url');
        const imageFileInput = document.getElementById('image-file');
        const customQuestionInput = document.getElementById('custom-question');
        const yesButton = document.getElementById('yes-button');
        const noButton = document.getElementById('no-button');

        // Check URL for view mode
        const urlParams = new URLSearchParams(window.location.search);
        const isViewMode = urlParams.has('view');

        if (isViewMode) {
            console.log('In view mode');
            // Hide form, show prank first
            uploadForm.classList.add('hidden');
            prankSection.style.display = 'block'; // Show prank
            viewMode.classList.add('hidden'); // Hide content initially
            shareLink.classList.add('hidden');

            // Load from URL params
            const imageUrl = urlParams.get('image');
            const message = urlParams.get('message');
            const question = urlParams.get('question');
            console.log('Loaded params:', { imageUrl, message, question });
            if (imageUrl) {
                displayImage.src = decodeURIComponent(imageUrl);
                console.log('Image set to:', displayImage.src);
            }
            if (message) {
                displayMessage.textContent = decodeURIComponent(message);
                console.log('Message set to:', displayMessage.textContent);
            } else {
                console.log('No message found in URL');
            }
            if (question) displayQuestion.textContent = decodeURIComponent(question);

            // Prank logic
            noButton.addEventListener('click', () => {
                console.log('No button clicked - teleporting');
                // Randomly teleport the "No" button
                const container = document.querySelector('.container');
                const containerRect = container.getBoundingClientRect();
                const buttonRect = noButton.getBoundingClientRect();
                const maxX = containerRect.width - buttonRect.width;
                const maxY = containerRect.height - buttonRect.height;
                const randomX = Math.random() * maxX;
                const randomY = Math.random() * maxY;
                noButton.style.position = 'absolute';
                noButton.style.left = `${randomX}px`;
                noButton.style.top = `${randomY}px`;
            });

            yesButton.addEventListener('click', () => {
                console.log('Yes button clicked - showing content');
                // Proceed to show content
                prankSection.style.display = 'none';
                viewMode.classList.remove('hidden'); // Show content
                console.log('View mode should now be visible');
            });
        } else {
            console.log('In edit mode');
            // Handle file upload preview
            imageFileInput.addEventListener('change', (e) => {
                const file = e.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = (e) => {
                        displayImage.src = e.target.result; // Preview locally
                        imageUrlInput.value = ''; // Clear URL if file selected
                    };
                    reader.readAsDataURL(file);
                }
            });

            // Handle form submission
            form.addEventListener('submit', (e) => {
                e.preventDefault();
                let imageUrl = imageUrlInput.value;
                const message = document.getElementById('message').value;
                const question = customQuestionInput.value;
                console.log('Form submitted with:', { imageUrl, message, question });

                // If file was uploaded but no URL, warn user
                if (!imageUrl && imageFileInput.files.length > 0) {
                    alert('File uploaded for preview, but for sharing, please host the image online (e.g., Imgur) and paste the URL.');
                    return;
                }

                if (!imageUrl) {
                    alert('Please provide an image URL.');
                    return;
                }

                // Generate share link with encoded params
                const currentUrl = window.location.origin + window.location.pathname;
                const encodedImage = encodeURIComponent(imageUrl);
                const encodedMessage = encodeURIComponent(message);
                const encodedQuestion = encodeURIComponent(question);
                const viewUrl = `${currentUrl}?view=true&image=${encodedImage}&message=${encodedMessage}&question=${encodedQuestion}`;
                linkElement.href = viewUrl;
                linkElement.textContent = viewUrl;
                console.log('Generated URL:', viewUrl);

                // Show share link
                shareLink.classList.remove('hidden');
                alert('Saved! Share the link below.');
            });
        }
    </script>

</body></html>